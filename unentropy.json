{
  "metrics": [
    {
      "$ref": "loc",
      "name": "lines-of-code",
      "description": "total lines of typescript/tsx code in src/ directory",
      "command": "@collect loc ./src --language TypeScript"
    },
    {
      "$ref": "loc",
      "name": "lines-of-test-code",
      "description": "Total lines of TypeScript/TSX code in tests/ directory",
      "command": "@collect loc ./tests --language TypeScript"
    },
    {
      "$ref": "coverage",
      "name": "test-coverage",
      "description": "Test coverage percentage for the codebase",
      "command": "@collect coverage-lcov coverage/lcov.info"
    },
    {
      "$ref": "bundle-size",
      "name": "total-bundle-size",
      "description": "Total size of all compiled GitHub Actions",
      "command": "@collect size .github/actions/*/dist/*.js"
    },
    {
      "$ref": "loc",
      "name": "specs-size",
      "description": "Total lines of specification documentation",
      "command": "@collect loc ./specs --language Markdown"
    }
  ],
  "storage": {
    "type": "sqlite-s3"
  },
  "qualityGate": {
    "mode": "soft",
    "thresholds": [
      {
        "metric": "test-coverage",
        "mode": "min",
        "target": 80,
        "severity": "blocker"
      }
    ]
  }
}
